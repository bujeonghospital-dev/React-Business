# üîß ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Error 403: API Key Configuration

## üìã ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏Ç‡∏≠‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤

Error 403 "Method doesn't allow unregistered callers" ‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å:

1. **‡πÑ‡∏°‡πà‡∏°‡∏µ API Key** ‡∏´‡∏£‡∏∑‡∏≠ API Key ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
2. **Google Sheet ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô Public**
3. **API Key ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Google Sheets API**
4. **Spreadsheet ID ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á**

---

## ‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á Google Sheets API Key

#### 1.1 ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Google Cloud Console

- ‡πÄ‡∏õ‡∏¥‡∏î [Google Cloud Console](https://console.cloud.google.com/)
- ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢ Google Account

#### 1.2 ‡∏™‡∏£‡πâ‡∏≤‡∏á Project (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ)

1. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà dropdown ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô (‡∏Ç‡πâ‡∏≤‡∏á "Google Cloud")
2. ‡∏Ñ‡∏•‡∏¥‡∏Å "NEW PROJECT"
3. ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ ‡πÄ‡∏ä‡πà‡∏ô "Surgery Schedule API"
4. ‡∏Ñ‡∏•‡∏¥‡∏Å "CREATE"

#### 1.3 ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Google Sheets API

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÄ‡∏°‡∏ô‡∏π ‚ò∞ > **APIs & Services** > **Library**
2. ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ "Google Sheets API"
3. ‡∏Ñ‡∏•‡∏¥‡∏Å "Google Sheets API"
4. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° **"ENABLE"** (‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô)
5. ‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡∏à‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à

#### 1.4 ‡∏™‡∏£‡πâ‡∏≤‡∏á API Key

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÄ‡∏°‡∏ô‡∏π ‚ò∞ > **APIs & Services** > **Credentials**
2. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° **"+ CREATE CREDENTIALS"** ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **"API key"**
4. ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á API Key ‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á popup
5. **‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å API Key** ‡πÑ‡∏ß‡πâ (‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ)

#### 1.5 ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå API Key (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å!)

1. ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Credentials ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà API Key ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á
2. ‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô **"API restrictions"**:
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **"Restrict key"**
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏â‡∏û‡∏≤‡∏∞ **"Google Sheets API"**
3. ‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô **"Application restrictions"** (‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô production):
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **"HTTP referrers (web sites)"**
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° `https://yourdomain.com/*`
   - ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö development: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "None" ‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **"SAVE"**

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Google Sheet

#### 2.1 ‡πÄ‡∏õ‡∏¥‡∏î Google Sheet ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

- ‡πÄ‡∏õ‡∏¥‡∏î Google Sheet ‡∏ó‡∏µ‡πà‡∏ä‡∏∑‡πà‡∏≠ **"Film data"**

#### 2.2 ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå

‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Sheet ‡∏°‡∏µ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß):

- `‡∏´‡∏°‡∏≠`
- `‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠`
- `‡∏ä‡∏∑‡πà‡∏≠`
- `‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£`
- `‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏ô‡∏±‡∏î‡∏ú‡πà‡∏≤‡∏ï‡∏±‡∏î`
- `‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏î`
- `‡∏¢‡∏≠‡∏î‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠`

**‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç**: ‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ (‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢)

#### 2.3 ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô Public

1. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° **"‡πÅ‡∏ä‡∏£‡πå"** (Share) ‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤‡∏ö‡∏ô
2. ‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô **"‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ"** (General access):
   - ‡∏Ñ‡∏•‡∏¥‡∏Å "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á"
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **"‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏•‡∏¥‡∏á‡∏Å‡πå"** (Anyone with the link)
   - ‡∏ï‡∏±‡πâ‡∏á‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏õ‡πá‡∏ô **"‡∏ú‡∏π‡πâ‡∏î‡∏π"** (Viewer)
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **"‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô"** (Done)

‚ö†Ô∏è **‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**: ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î Sheet ‡πÄ‡∏õ‡πá‡∏ô Public ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ Service Account ‡πÅ‡∏ó‡∏ô (‡∏î‡∏π Advanced Setup)

#### 2.4 ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å Spreadsheet ID

1. ‡∏î‡∏π‡∏ó‡∏µ‡πà URL ‡∏Ç‡∏≠‡∏á Google Sheet:
   ```
   https://docs.google.com/spreadsheets/d/1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms/edit
   ```
2. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô Spreadsheet ID (‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á `/d/` ‡πÅ‡∏•‡∏∞ `/edit`)
   - ‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏∑‡∏≠: `1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms`

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variables

#### 3.1 ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå .env.local

‡∏ó‡∏µ‡πà root ‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ (‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö `package.json`):

```bash
# ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Windows PowerShell
New-Item -Path .env.local -ItemType File
```

#### 3.2 ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡πà‡∏≤ Environment Variables

‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `.env.local` ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°:

```env
NEXT_PUBLIC_GOOGLE_SHEETS_API_KEY=AIzaSyAbc123def456ghi789jkl012mno345pqr
NEXT_PUBLIC_SPREADSHEET_ID=1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms
```

**‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà**:

- `AIzaSyAbc123def456ghi789jkl012mno345pqr` ‡∏î‡πâ‡∏ß‡∏¢ API Key ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
- `1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms` ‡∏î‡πâ‡∏ß‡∏¢ Spreadsheet ID ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

#### 3.3 ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏ü‡∏•‡πå‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß

```powershell
Get-Content .env.local
```

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: Restart Development Server

#### 4.1 ‡∏õ‡∏¥‡∏î Server ‡πÄ‡∏î‡∏¥‡∏°

‡∏Å‡∏î `Ctrl + C` ‡πÉ‡∏ô terminal ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ô `npm run dev`

#### 4.2 ‡πÄ‡∏õ‡∏¥‡∏î Server ‡πÉ‡∏´‡∏°‡πà

```powershell
npm run dev
```

‚ö†Ô∏è **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç**: Next.js ‡∏à‡∏∞‡∏≠‡πà‡∏≤‡∏ô `.env.local` ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏≠‡∏ô start server ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏ï‡πâ‡∏≠‡∏á restart ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö

1. ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏õ‡∏ó‡∏µ‡πà `http://localhost:3000/performance-surgery-schedule`
2. ‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

---

## üîç ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ (Troubleshooting)

### ‚ùå ‡∏¢‡∏±‡∏á‡πÄ‡∏à‡∏≠ Error 403 ‡∏≠‡∏¢‡∏π‡πà

#### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö 1: API Key

```powershell
# ‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏°‡∏µ API Key ‡πÉ‡∏ô environment ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
node -e "console.log(process.env.NEXT_PUBLIC_GOOGLE_SHEETS_API_KEY)"
```

‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô `undefined`:

- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏ü‡∏•‡πå `.env.local` ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (root ‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ)
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ä‡∏∑‡πà‡∏≠ variable ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ `NEXT_PUBLIC_`)
- Restart development server

#### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö 2: Google Sheets API

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [Google Cloud Console](https://console.cloud.google.com/)
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Project ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ
3. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **APIs & Services** > **Dashboard**
4. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ "Google Sheets API" ‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ "Enabled"

#### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö 3: Sheet Access

1. ‡πÄ‡∏õ‡∏¥‡∏î Google Sheet ‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î Incognito/Private
2. ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏î‡∏π‡πÑ‡∏î‡πâ = ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
3. ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ = ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ sharing ‡πÉ‡∏´‡∏°‡πà

#### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö 4: API Key Restrictions

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **APIs & Services** > **Credentials**
2. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà API Key
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:
   - API restrictions: ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ "Google Sheets API" ‡∏´‡∏£‡∏∑‡∏≠ "None"
   - Application restrictions: ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö development ‡πÉ‡∏ä‡πâ "None" ‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô

---

### ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏™‡∏î‡∏á (‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà error)

#### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö 1: ‡∏ä‡∏∑‡πà‡∏≠ Sheet

- Sheet name ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô **"Film data"** (‡∏ï‡∏£‡∏á‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß)
- ‡πÑ‡∏õ‡∏ó‡∏µ‡πà tab ‡∏•‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á Google Sheet ‡∏î‡∏π‡∏ä‡∏∑‡πà‡∏≠

#### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö 2: ‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå

‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÅ‡∏ñ‡∏ß‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á Sheet ‡∏°‡∏µ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå:

- ‡∏´‡∏°‡∏≠
- ‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠
- ‡∏ä‡∏∑‡πà‡∏≠
- ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£
- ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏ô‡∏±‡∏î‡∏ú‡πà‡∏≤‡∏ï‡∏±‡∏î
- ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏î
- ‡∏¢‡∏≠‡∏î‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠

**‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£!**

#### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö 3: ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà

‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö:

- `DD/MM/YYYY` ‡πÄ‡∏ä‡πà‡∏ô `15/11/2024`
- `YYYY-MM-DD` ‡πÄ‡∏ä‡πà‡∏ô `2024-11-15`

#### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö 4: ‡∏Ñ‡πà‡∏≤ "‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠"

‡πÉ‡∏ô‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå "‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠" ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô:

- ‡∏™‡∏≤
- ‡∏û‡∏¥‡∏ä‡∏ä‡∏≤
- ‡∏ï‡∏±‡πâ‡∏á‡πÇ‡∏≠‡πã
- Test
- ‡∏à‡∏µ‡∏ô
- ‡∏°‡∏∏‡∏Å
- ‡πÄ‡∏à
- ‡∏ß‡πà‡∏≤‡∏ô

(‡∏ï‡∏£‡∏á‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÅ‡∏°‡∏û‡πÑ‡∏ß‡πâ)

---

### ‚ùå API Quota Exceeded

‡∏ñ‡πâ‡∏≤‡πÄ‡∏à‡∏≠‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° "Quota exceeded":

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [Google Cloud Console](https://console.cloud.google.com/)
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Project
3. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **APIs & Services** > **Dashboard**
4. ‡∏Ñ‡∏•‡∏¥‡∏Å "Google Sheets API"
5. ‡∏î‡∏π Quotas ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô

**Free tier** ‡∏°‡∏µ‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤:

- 100 requests per 100 seconds per user
- 500 requests per 100 seconds per project

---

## üìä ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô Google Sheet

| ‡∏´‡∏°‡∏≠       | ‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ | ‡∏ä‡∏∑‡πà‡∏≠     | ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£     | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏ô‡∏±‡∏î‡∏ú‡πà‡∏≤‡∏ï‡∏±‡∏î | ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏î | ‡∏¢‡∏≠‡∏î‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠ |
| --------- | --------- | -------- | ------------ | ------------------ | ---------- | --------- |
| ‡∏î‡∏£.‡∏™‡∏°‡∏ä‡∏≤‡∏¢  | ‡∏™‡∏≤        | ‡∏Ñ‡∏∏‡∏ì‡∏´‡∏ô‡∏∂‡πà‡∏á | 081-234-5678 | 15/11/2024         | 10:00      | 50000     |
| ‡∏î‡∏£.‡∏™‡∏°‡∏´‡∏ç‡∏¥‡∏á | ‡∏û‡∏¥‡∏ä‡∏ä‡∏≤     | ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≠‡∏á   | 082-345-6789 | 15/11/2024         | 14:00      | 75000     |
| ‡∏î‡∏£.‡∏™‡∏°‡∏ä‡∏≤‡∏¢  | ‡∏°‡∏∏‡∏Å       | ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°   | 083-456-7890 | 16/11/2024         | 09:30      | 60000     |

---

## üîê ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Development

- ‡πÉ‡∏ä‡πâ API Key ‡πÅ‡∏ö‡∏ö unrestricted ‡πÑ‡∏î‡πâ (‡πÅ‡∏ï‡πà‡∏≠‡∏¢‡πà‡∏≤ commit ‡∏•‡∏á Git)
- ‡πÄ‡∏õ‡∏¥‡∏î Sheet ‡πÄ‡∏õ‡πá‡∏ô public ‡πÑ‡∏î‡πâ

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Production

1. **‡∏à‡∏≥‡∏Å‡∏±‡∏î API Key**:
   - Restrict to Google Sheets API only
   - Restrict to specific HTTP referrers
2. **‡πÉ‡∏ä‡πâ Service Account** (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥):

   - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î Sheet ‡πÄ‡∏õ‡πá‡∏ô public
   - ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤
   - ‡∏î‡∏π Advanced Setup

3. **‡πÑ‡∏°‡πà commit `.env.local`**:
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° `.env.local` ‡πÉ‡∏ô `.gitignore`
   - ‡πÉ‡∏ä‡πâ environment variables ‡πÉ‡∏ô‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå

---

## ‚úÖ Checklist ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö

- [ ] ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Google Sheets API ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á API Key ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å Spreadsheet ID ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] Google Sheet ‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô public (Anyone with the link can view)
- [ ] Sheet ‡∏ä‡∏∑‡πà‡∏≠ "Film data" (‡∏ï‡∏£‡∏á‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß)
- [ ] ‡∏°‡∏µ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå (‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏á‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß)
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env.local` ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡πÉ‡∏™‡πà `NEXT_PUBLIC_GOOGLE_SHEETS_API_KEY` ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡πÉ‡∏™‡πà `NEXT_PUBLIC_SPREADSHEET_ID` ‡πÅ‡∏•‡πâ‡∏ß
- [ ] Restart development server ‡πÅ‡∏•‡πâ‡∏ß

---

## üéØ ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á:

1. ‚úÖ ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡∏°‡∏µ error
2. ‚úÖ ‡πÄ‡∏´‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏ô badge ‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ô‡∏±‡∏î
3. ‚úÖ ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏≠‡∏á‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏´‡πá‡∏ô popup ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
4. ‚úÖ Popup ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ü‡∏¥‡∏•‡∏î‡πå

---

## üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠

‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ:

1. ‡πÄ‡∏õ‡∏¥‡∏î Browser Console (F12) ‡∏î‡∏π error message
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Network tab ‡∏ß‡πà‡∏≤ request ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Google Sheets API ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
3. Copy error message ‡∏°‡∏≤‡∏ñ‡∏≤‡∏°

---

**‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô**: 1.0  
**‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î**: ‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô 2024
