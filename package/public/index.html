<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>‡∏´‡∏°‡∏≤‡∏Å‡∏Æ‡∏≠‡∏™‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå - Thai Checkers Online</title>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600;800&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Kanit", system-ui, -apple-system, Segoe UI, Roboto,
          Helvetica, Arial;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        position: relative;
        color: #1f2937;
      }

      /* Animated background */
      .bg-animation {
        position: fixed;
        inset: 0;
        z-index: -1;
      }

      .bg-bubble {
        position: absolute;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.08);
        animation: float 20s infinite ease-in-out;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0) translateX(0);
        }
        25% {
          transform: translateY(-100px) translateX(50px);
        }
        50% {
          transform: translateY(-50px) translateX(-50px);
        }
        75% {
          transform: translateY(-150px) translateX(25px);
        }
      }

      /* Cards */
      .card {
        background: rgba(255, 255, 255, 0.96);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25);
      }

      /* Login Screen */
      .login-screen {
        width: min(520px, 92vw);
        padding: 36px;
        text-align: center;
        animation: slideIn 0.45s ease-out;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(-24px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .login-screen h1 {
        color: #764ba2;
        font-size: 2.4rem;
        font-weight: 800;
        letter-spacing: 0.2px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.08);
      }

      .login-screen h2 {
        color: #667eea;
        font-size: 1.25rem;
        font-weight: 500;
        margin: 6px 0 22px;
      }

      .input-group {
        margin: 14px 0;
        text-align: left;
      }

      .input-group label {
        display: block;
        margin-bottom: 6px;
        font-weight: 500;
        color: #4b5563;
      }

      .input-group input {
        width: 100%;
        padding: 14px 16px;
        border: 2px solid #e5e7eb;
        border-radius: 12px;
        font-size: 16px;
        transition: all 0.25s;
        font-family: inherit;
      }

      .input-group input:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.15);
      }

      .button-group {
        display: flex;
        gap: 12px;
        margin-top: 18px;
      }

      .btn {
        flex: 1;
        padding: 14px 18px;
        border: 0;
        border-radius: 12px;
        font-weight: 700;
        font-size: 16px;
        cursor: pointer;
        color: #fff;
        transition: transform 0.15s, box-shadow 0.15s;
        font-family: inherit;
      }

      .btn-primary {
        background: linear-gradient(135deg, #667eea, #764ba2);
      }

      .btn-secondary {
        background: linear-gradient(135deg, #f093fb, #f5576c);
      }

      .btn:hover:not(:disabled) {
        transform: translateY(-2px);
        box-shadow: 0 10px 24px rgba(0, 0, 0, 0.18);
      }

      .btn:disabled {
        opacity: 0.55;
        cursor: not-allowed;
      }

      .notice {
        margin-top: 18px;
        padding: 12px 14px;
        background: #fff7d6;
        color: #8a6d3b;
        border-radius: 12px;
        font-size: 13px;
        text-align: left;
      }

      /* Game Container */
      .game-container {
        display: none;
        width: min(760px, 92vw);
        padding: 18px;
      }

      .player-info {
        display: flex;
        justify-content: space-between;
        gap: 12px;
        align-items: center;
        margin-bottom: 12px;
        padding: 12px 14px;
        border-radius: 14px;
        color: #fff;
        background: linear-gradient(135deg, #667eea, #764ba2);
      }

      .player {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .player-piece {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.25);
      }

      .player1-piece {
        background: linear-gradient(135deg, #ff6b6b, #ee5a24);
      }

      .player2-piece {
        background: linear-gradient(135deg, #4ecdc4, #44a3aa);
      }

      .player-name {
        font-weight: 700;
        font-size: 17px;
      }

      .current-turn {
        animation: pulse 1.5s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.06);
        }
      }

      .room-code {
        margin: 10px auto;
        text-align: center;
        width: max-content;
        color: #fff;
        padding: 8px 16px;
        border-radius: 12px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        font-weight: 700;
        letter-spacing: 2px;
        cursor: pointer;
        user-select: none;
        transition: all 0.3s;
      }

      .room-code:hover {
        transform: scale(1.02);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
      }

      .room-code.copied {
        animation: copied 0.35s;
      }

      @keyframes copied {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.08);
        }
        100% {
          transform: scale(1);
        }
      }

      /* Board */
      .board {
        display: grid;
        grid-template-columns: repeat(8, 64px);
        grid-template-rows: repeat(8, 64px);
        gap: 2px;
        background: #1f2b38;
        padding: 10px;
        border-radius: 16px;
        box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.35);
        margin: 0 auto;
      }

      .square {
        width: 64px;
        height: 64px;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        transition: all 0.2s;
        position: relative;
      }

      .square.light {
        background: linear-gradient(135deg, #ffecd2, #fcb69f);
      }

      .square.dark {
        background: linear-gradient(135deg, #3c3c3c, #2c2c2c);
      }

      .square.valid-move {
        outline: 3px solid #78ffd6;
        box-shadow: 0 0 18px rgba(120, 255, 214, 0.8) inset;
      }

      .square.selected {
        outline: 3px solid #ffd166;
        box-shadow: 0 0 18px rgba(255, 209, 102, 0.85) inset;
      }

      .piece {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        cursor: pointer;
        transition: transform 0.15s, box-shadow 0.15s;
        position: relative;
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
      }

      .piece.player1 {
        background: linear-gradient(135deg, #ff6b6b, #ee5a24);
      }

      .piece.player2 {
        background: linear-gradient(135deg, #4ecdc4, #44a3aa);
      }

      .piece.king::after {
        content: "‚ôî";
        position: absolute;
        inset: 0;
        display: grid;
        place-items: center;
        font-size: 24px;
        color: gold;
        text-shadow: 0 0 10px rgba(255, 215, 0, 0.85);
      }

      .piece:hover {
        transform: scale(1.08);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
      }

      .connection-status {
        margin-top: 14px;
        padding: 10px;
        border-radius: 10px;
        background: #f3f4f6;
        text-align: center;
        font-size: 14px;
      }

      .status-waiting {
        color: #f39c12;
        animation: blink 1s infinite;
      }

      .status-connected {
        color: #27ae60;
      }

      .status-disconnected {
        color: #e74c3c;
      }

      @keyframes blink {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.55;
        }
      }

      /* Win Modal */
      .win-screen {
        position: fixed;
        inset: 0;
        display: none;
        place-items: center;
        background: rgba(0, 0, 0, 0.8);
        z-index: 1000;
      }

      .win-content {
        background: #fff;
        padding: 36px;
        border-radius: 18px;
        text-align: center;
        min-width: 280px;
        animation: bounceIn 0.45s;
      }

      @keyframes bounceIn {
        0% {
          transform: scale(0.3);
          opacity: 0;
        }
        50% {
          transform: scale(1.05);
        }
        70% {
          transform: scale(0.92);
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .win-content h2 {
        font-size: 2rem;
        background: linear-gradient(135deg, #667eea, #764ba2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 14px;
      }

      /* Responsive */
      @media (max-width: 560px) {
        .board {
          grid-template-columns: repeat(8, 48px);
          grid-template-rows: repeat(8, 48px);
          gap: 1px;
        }

        .square {
          width: 48px;
          height: 48px;
        }

        .piece {
          width: 38px;
          height: 38px;
        }

        .piece.king::after {
          font-size: 18px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Background Animation -->
    <div class="bg-animation"></div>

    <!-- Login Screen -->
    <div id="loginScreen" class="card login-screen">
      <h1>‡∏´‡∏°‡∏≤‡∏Å‡∏Æ‡∏≠‡∏™</h1>
      <h2>Thai Checkers Online</h2>

      <div class="input-group">
        <label for="playerName">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô / Your name</label>
        <input
          id="playerName"
          type="text"
          placeholder="‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì..."
          maxlength="20"
          autocomplete="off" />
      </div>

      <div class="input-group">
        <label for="roomCode">‡∏£‡∏´‡∏±‡∏™‡∏´‡πâ‡∏≠‡∏á / Room code (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°)</label>
        <input
          id="roomCode"
          type="text"
          placeholder="‡πÄ‡∏ä‡πà‡∏ô ABC123"
          maxlength="6"
          style="text-transform: uppercase"
          autocomplete="off" />
      </div>

      <div class="button-group">
        <button id="createBtn" class="btn btn-primary">
          ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á / Create Room
        </button>
        <button id="joinBtn" class="btn btn-secondary">
          ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° / Join Room
        </button>
      </div>

      <div class="notice">
        üí° <strong>‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô:</strong><br />
        1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏´‡∏±‡∏™‡∏´‡πâ‡∏≠‡∏á<br />
        2. ‡∏£‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°<br />
        3. ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô<br />
        4. ‡∏´‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏´‡∏°‡∏≤‡∏Å‡∏Æ‡∏≠‡∏™‡∏à‡∏∞‡∏°‡∏µ‡∏°‡∏á‡∏Å‡∏∏‡∏é ‚ôî
      </div>
    </div>

    <!-- Game Container -->
    <div id="gameContainer" class="card game-container">
      <div class="player-info">
        <div id="player1Info" class="player">
          <div class="player-piece player1-piece"></div>
          <span id="player1Name" class="player-name">Player 1</span>
        </div>
        <div id="player2Info" class="player">
          <div class="player-piece player2-piece"></div>
          <span id="player2Name" class="player-name">Waiting...</span>
        </div>
      </div>

      <div id="roomCodeDisplay" class="room-code" style="display: none">
        Room: <span id="roomCodeText"></span>
      </div>

      <div id="board" class="board"></div>

      <div class="connection-status">
        <span id="connectionStatus" class="status-waiting">
          ‡∏£‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏ô... / Waiting for opponent...
        </span>
      </div>
    </div>

    <!-- Win Screen -->
    <div id="winScreen" class="win-screen">
      <div class="win-content">
        <h2 id="winnerText">üéâ Winner! üéâ</h2>
        <button class="btn btn-primary">‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà / Play Again</button>
      </div>
    </div>

    <!-- Load JavaScript -->
    <script src="thai-checkers.js"></script>
  </body>
</html>
